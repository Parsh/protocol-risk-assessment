{"code":"ENOENT","errno":-2,"level":"error","message":"Failed to initialize directory for protocols: ENOENT: no such file or directory, mkdir '/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols'","path":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols","service":"defi-risk-assessment","stack":"Error: ENOENT: no such file or directory, mkdir '/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols'","syscall":"mkdir","timestamp":"2025-07-06 12:18:09"}
{"level":"error","message":"Failed to parse JSON for entity test-protocol-1-adb3492f-mcrir8xf: Unexpected token 'i', \"invalid json\" is not valid JSON","service":"defi-risk-assessment","stack":"SyntaxError: Unexpected token 'i', \"invalid json\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:198:29)\n    at TestProtocolRepository.withRetry (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:150:16)\n    at TestProtocolRepository.findById (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:189:12)\n    at Object.<anonymous> (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/tests/unit/repositories.test.ts:275:9)","timestamp":"2025-07-06 12:18:09"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/readonly/protocols","level":"error","message":"Failed to initialize directory for protocols: Failed to create directory: Unknown error","name":"FileOperationError","operation":"mkdir","service":"defi-risk-assessment","stack":"FileOperationError: Failed to create directory: Unknown error\n    at Function.ensureDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:203:13)\n    at TestProtocolRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:41:5)","timestamp":"2025-07-06 12:18:09"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols/index.json","level":"error","message":"Failed to initialize directory for protocols: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestProtocolRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestProtocolRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-06 12:48:59"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/assessments/index.json","level":"error","message":"Failed to initialize directory for assessments: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestAssessmentRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestAssessmentRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-06 12:48:59"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/assessments/index.json","level":"error","message":"Failed to initialize directory for assessments: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestAssessmentRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestAssessmentRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-06 12:50:55"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols/index.json","level":"error","message":"Failed to initialize directory for protocols: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestProtocolRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestProtocolRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-06 14:57:36"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols/index.json","level":"error","message":"Failed to initialize directory for protocols: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestProtocolRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestProtocolRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-06 15:27:01"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/assessments/index.json","level":"error","message":"Failed to initialize directory for assessments: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestAssessmentRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestAssessmentRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-06 15:27:02"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols/index.json","level":"error","message":"Failed to initialize directory for protocols: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestProtocolRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestProtocolRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-06 15:39:07"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/assessments/index.json","level":"error","message":"Failed to initialize directory for assessments: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestAssessmentRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestAssessmentRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-06 15:39:07"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols","level":"error","message":"Failed to initialize directory for protocols: Failed to create directory: Unknown error","name":"FileOperationError","operation":"mkdir","service":"defi-risk-assessment","stack":"FileOperationError: Failed to create directory: Unknown error\n    at Function.ensureDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:203:13)\n    at TestProtocolRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:41:5)","timestamp":"2025-07-06 15:39:08"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/test-entities/entity-3.json","level":"error","message":"Failed to parse JSON for entity entity-3: File not found","name":"FileOperationError","operation":"read","service":"defi-risk-assessment","stack":"FileOperationError: File not found\n    at Function.readFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:134:15)\n    at /Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:197:22\n    at JsonFileRepository.withRetry (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:150:16)\n    at JsonFileRepository.findById (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:189:12)\n    at Object.<anonymous> (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/tests/unit/repositories.test.ts:412:29)","timestamp":"2025-07-06 15:51:32"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols/index.json","level":"error","message":"Failed to initialize directory for protocols: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestProtocolRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestProtocolRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-06 15:54:27"}
{"code":"INTERNAL_ERROR","ip":"::ffff:127.0.0.1","level":"error","message":"Server error occurred Cannot read properties of undefined (reading 'name')","method":"POST","params":{},"query":{},"service":"defi-risk-assessment","stack":"TypeError: Cannot read properties of undefined (reading 'name')\n    at name (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/controllers/protocol.controller.ts:50:48)\n    at Array.find (<anonymous>)\n    at ProtocolController.find [as createProtocol] (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/controllers/protocol.controller.ts:49:47)","statusCode":500,"timestamp":"2025-07-06 15:58:10","url":"/api/v1/protocols"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols/bsc-protocol-a473a738-mcrqzlm9.json","level":"error","message":"Failed to parse JSON for entity bsc-protocol-a473a738-mcrqzlm9: File not found","name":"FileOperationError","operation":"read","service":"defi-risk-assessment","stack":"FileOperationError: File not found\n    at Function.readFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:134:15)\n    at /Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:197:22\n    at TestProtocolRepository.withRetry (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:150:16)\n    at TestProtocolRepository.findById (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:189:12)\n    at /Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:225:24\n    at TestProtocolRepository.withRetry (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:150:16)\n    at TestProtocolRepository.findAll (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:213:12)\n    at TestProtocolRepository.findWhere (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:275:25)\n    at Object.<anonymous> (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/tests/unit/repositories.test.ts:241:25)","timestamp":"2025-07-06 16:08:36"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols","level":"error","message":"Failed to initialize directory for protocols: Failed to create directory: Unknown error","name":"FileOperationError","operation":"mkdir","service":"defi-risk-assessment","stack":"FileOperationError: Failed to create directory: Unknown error\n    at Function.ensureDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:203:13)\n    at TestProtocolRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:41:5)","timestamp":"2025-07-06 16:08:36"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/assessments/index.json","level":"error","message":"Failed to initialize directory for assessments: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestAssessmentRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestAssessmentRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-07 07:54:15"}
{"filePath":"/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/data/test/protocols/index.json","level":"error","message":"Failed to initialize directory for protocols: Failed to write file: Unknown error","name":"FileOperationError","operation":"write","service":"defi-risk-assessment","stack":"FileOperationError: Failed to write file: Unknown error\n    at Function.writeFile (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/utils/file-operations.ts:111:15)\n    at TestProtocolRepository.saveIndex (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:100:5)\n    at TestProtocolRepository.initializeDirectory (/Users/psyched/ENITS/IT-SecLab/protocol-risk-assessment/src/repositories/json-file-repository.ts:45:7)","timestamp":"2025-07-07 07:54:15"}
