{"level":"info","message":"SimpleGovernanceAnalyzer initialized","nodeEnv":"development","pid":63402,"service":"governance-analyzer","timestamp":"2025-07-06 19:03:26","useMockData":true}
{"level":"info","message":"RiskScoringEngine initialized","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","thresholds":{"critical":80,"high":60,"medium":30},"timestamp":"2025-07-06 19:03:26","weights":{"governance":0.25,"liquidity":0.2,"reputation":0.15,"technical":0.4}}
{"baseUrl":"https://api.etherscan.io/api","hasApiKey":false,"level":"info","message":"EtherscanClient initialized","network":"mainnet","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 19:03:26"}
{"hasApiKey":false,"level":"info","message":"Ethereum client initialized","network":"mainnet","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:03:26"}
{"baseUrl":"https://api.bscscan.com/api","hasApiKey":false,"level":"info","message":"BSCScanClient initialized","network":"mainnet","nodeEnv":"development","pid":63402,"service":"bscscan-client","timestamp":"2025-07-06 19:03:26"}
{"hasApiKey":false,"level":"info","message":"BSC client initialized","network":"mainnet","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:03:26"}
{"baseUrl":"https://api.polygonscan.com/api","hasApiKey":false,"level":"info","message":"PolygonscanClient initialized","network":"mainnet","nodeEnv":"development","pid":63402,"service":"polygonscan-client","timestamp":"2025-07-06 19:03:26"}
{"hasApiKey":false,"level":"info","message":"Polygon client initialized","network":"mainnet","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:03:26"}
{"level":"info","message":"UnifiedBlockchainClient initialized","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","supportedChains":["ethereum","bsc","polygon"],"timestamp":"2025-07-06 19:03:26"}
{"baseUrl":"https://api.llama.fi","level":"info","message":"DeFiLlama client initialized","nodeEnv":"development","pid":63402,"rateLimit":{"burstLimit":10,"requestsPerMinute":300},"service":"risk-assessment-api","timeout":30000,"timestamp":"2025-07-06 19:03:26"}
{"baseUrl":"https://api.coingecko.com/api/v3","hasApiKey":false,"level":"info","message":"CoinGecko client initialized","nodeEnv":"development","pid":63402,"rateLimit":{"burstLimit":5,"requestsPerMinute":30},"service":"risk-assessment-api","timeout":30000,"timestamp":"2025-07-06 19:03:26"}
{"cacheDir":"./data/cache","coingecko":true,"defillama":true,"level":"info","message":"Unified DeFi data client initialized","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:03:26"}
{"config":{"logLevel":"debug","nodeEnv":"development","port":3000},"level":"info","message":"Application Starting","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:03:26","type":"startup"}
{"level":"info","limit":"50","message":"Fetching all protocols","nodeEnv":"development","offset":"0","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:05:42"}
{"filters":{},"level":"info","message":"Protocols fetched successfully","nodeEnv":"development","pid":63402,"returned":6,"service":"risk-assessment-api","timestamp":"2025-07-06 19:05:42","total":6}
{"level":"info","message":"Creating new assessment","nodeEnv":"development","pid":63402,"protocolName":"Final Test Protocol","service":"risk-assessment-api","timestamp":"2025-07-06 19:05:59","userId":"::1"}
{"assessmentId":"assessment-1751821559922-1a77d107","level":"info","message":"Initiating new assessment","nodeEnv":"development","pid":63402,"request":{"analysisDepth":"COMPREHENSIVE","priority":"HIGH","protocol":{"blockchain":"ethereum","contractAddresses":["0x1234567890abcdef1234567890abcdef12345678"],"name":"Final Test Protocol","tokenSymbol":"FTP","website":"https://finaltest.protocol"}},"service":"risk-assessment-api","timestamp":"2025-07-06 19:05:59"}
{"level":"info","message":"Created new protocol","name":"Final Test Protocol","nodeEnv":"development","pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","service":"risk-assessment-api","timestamp":"2025-07-06 19:05:59"}
{"assessmentId":"assessment-1751821559922-1a77d107","level":"info","message":"Starting assessment processing","nodeEnv":"development","pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","service":"risk-assessment-api","timestamp":"2025-07-06 19:05:59"}
{"address":"0x1234567890abcdef1234567890abcdef12345678","blockchain":"ethereum","level":"info","message":"Fetching contract metadata","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:05:59"}
{"assessmentId":"assessment-1751821559922-1a77d107","level":"info","message":"Assessment initiated successfully","nodeEnv":"development","pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","service":"risk-assessment-api","timestamp":"2025-07-06 19:05:59"}
{"assessmentId":"assessment-1751821559922-1a77d107","level":"info","message":"Assessment created successfully","nodeEnv":"development","pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","service":"risk-assessment-api","timestamp":"2025-07-06 19:05:59"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:05:59","url":"https://api.etherscan.io/api?module=contract&action=getsourcecode&address=0x1234567890abcdef1234567890abcdef12345678"}
{"contractAddress":"0x1234567890abcdef1234567890abcdef12345678","error":"fetch is not defined","level":"error","message":"Failed to get contract source code","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 19:05:59"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:05:59","url":"https://api.etherscan.io/api?module=contract&action=getcontractcreation&contractaddresses=0x1234567890abcdef1234567890abcdef12345678"}
{"contractAddress":"0x1234567890abcdef1234567890abcdef12345678","error":"fetch is not defined","level":"error","message":"Failed to get contract creation info","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 19:05:59"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:05:59","url":"https://api.etherscan.io/api?module=account&action=balance&address=0x1234567890abcdef1234567890abcdef12345678&tag=latest"}
{"address":"0x1234567890abcdef1234567890abcdef12345678","error":"fetch is not defined","level":"error","message":"Failed to get balance","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 19:05:59"}
{"address":"0x1234567890abcdef1234567890abcdef12345678","blockchain":"ethereum","hasCreationData":false,"isVerified":false,"level":"info","message":"Contract metadata retrieved","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:05:59"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:05:59","url":"https://api.etherscan.io/api?module=account&action=txlist&address=0x1234567890abcdef1234567890abcdef12345678&startblock=0&endblock=99999999&page=1&offset=10&sort=desc"}
{"address":"0x1234567890abcdef1234567890abcdef12345678","error":"fetch is not defined","level":"error","message":"Failed to get transactions","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 19:05:59"}
{"address":"0x1234567890abcdef1234567890abcdef12345678","blockchain":"ethereum","error":"fetch is not defined","level":"error","message":"Failed to get recent transactions","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:05:59"}
{"address":"0x1234567890abcdef1234567890abcdef12345678","assessmentId":"assessment-1751821559922-1a77d107","error":"fetch is not defined","level":"warn","message":"Failed to collect blockchain data for contract","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:05:59"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:05:59","url":"https://api.llama.fi/protocol/Final%20Test%20Protocol"}
{"error":{},"level":"error","message":"Failed to fetch protocol details from DeFiLlama","nodeEnv":"development","pid":63402,"protocolSlug":"Final Test Protocol","service":"risk-assessment-api","timestamp":"2025-07-06 19:05:59"}
{"error":"Failed to fetch protocol Final Test Protocol: fetch is not defined","level":"warn","message":"Failed to fetch protocol from DeFiLlama","nodeEnv":"development","pid":63402,"protocolIdentifier":"Final Test Protocol","service":"risk-assessment-api","timestamp":"2025-07-06 19:05:59"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:06:00","url":"https://api.llama.fi/protocols"}
{"error":{},"level":"error","message":"Failed to fetch protocols from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"error":{},"level":"error","message":"Failed to search protocols in DeFiLlama","nodeEnv":"development","pid":63402,"query":"Final Test Protocol","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:06:00","url":"https://api.coingecko.com/api/v3/coins/Final%20Test%20Protocol?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false"}
{"coinId":"Final Test Protocol","error":{},"level":"error","message":"Failed to fetch coin details from CoinGecko","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:06:00","url":"https://api.coingecko.com/api/v3/search?query=Final+Test+Protocol"}
{"error":{},"level":"error","message":"Failed to search coins in CoinGecko","nodeEnv":"development","pid":63402,"query":"Final Test Protocol","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"level":"info","message":"No protocol data found in either DeFiLlama or CoinGecko","nodeEnv":"development","pid":63402,"protocolIdentifier":"Final Test Protocol","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:06:00","url":"https://api.llama.fi/protocols"}
{"error":{},"level":"error","message":"Failed to fetch protocols from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"contractAddress":"0x1234567890abcdef1234567890abcdef12345678","error":{},"level":"error","message":"Failed to search protocol by address in DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:06:00","url":"https://api.coingecko.com/api/v3/coins/ethereum/contract/0x1234567890abcdef1234567890abcdef12345678"}
{"contractAddress":"0x1234567890abcdef1234567890abcdef12345678","error":{},"level":"error","message":"Failed to fetch coin by contract address from CoinGecko","nodeEnv":"development","pid":63402,"platform":"ethereum","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"chain":"ethereum","contractAddress":"0x1234567890abcdef1234567890abcdef12345678","level":"info","message":"No protocol found for contract address","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:06:00","url":"https://api.llama.fi/tvl"}
{"error":{},"level":"error","message":"Failed to fetch current TVL from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"error":"Failed to fetch current TVL: fetch is not defined","level":"error","message":"Failed to fetch market overview","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"assessmentId":"assessment-1751821559922-1a77d107","error":"Failed to fetch market overview: Failed to fetch current TVL: fetch is not defined","level":"warn","message":"Failed to get market overview","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"analyzers":["technical","liquidity","governance","reputation"],"assessmentId":"assessment-1751821559922-1a77d107","level":"info","message":"Starting parallel risk analysis","nodeEnv":"development","pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"contractCount":1,"level":"info","message":"Starting technical analysis","nodeEnv":"development","pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"blockchain":"ethereum","contractAddress":"0x1234567890abcdef1234567890abcdef12345678","contractName":"Final Test Protocol-contract-12345678","level":"info","message":"Starting smart contract analysis","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"blockchain":"ethereum","level":"info","message":"Starting liquidity analysis","nodeEnv":"development","pid":63402,"protocol":"Final Test Protocol","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"blockchain":"ethereum","level":"info","message":"Starting governance analysis","nodeEnv":"development","pid":63402,"protocolName":"Final Test Protocol","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"executionTime":1,"findingsCount":3,"governanceScore":74,"level":"info","message":"Governance analysis completed","nodeEnv":"development","pid":63402,"protocolName":"Final Test Protocol","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"blockchain":"ethereum","level":"info","message":"Starting reputation analysis","nodeEnv":"development","pid":63402,"protocol":"Final Test Protocol","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"contractAddress":"0x1234567890abcdef1234567890abcdef12345678","error":"No source code provided for contract 0x1234567890abcdef1234567890abcdef12345678","executionTime":5,"level":"error","message":"Smart contract analysis failed","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"analysisTime":5,"level":"info","liquidityScore":62,"message":"Liquidity analysis completed","nodeEnv":"development","pid":63402,"protocol":"Final Test Protocol","riskLevel":"medium","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"analysisTime":2,"level":"info","message":"Reputation analysis completed","nodeEnv":"development","pid":63402,"protocol":"Final Test Protocol","reputationScore":36,"riskLevel":"very-high","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"analyzedContracts":1,"findingsCount":1,"level":"info","message":"Technical analysis completed","nodeEnv":"development","pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","score":95,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00","totalVulnerabilities":0}
{"assessmentId":"assessment-1751821559922-1a77d107","executionTime":579,"findingsBreakdown":{"governance":3,"liquidity":1,"reputation":2,"technical":1},"level":"info","message":"Parallel risk analysis completed","nodeEnv":"development","pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","scores":{"governance":74,"liquidity":62,"reputation":36,"technical":95},"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00","totalFindings":7}
{"confidence":69,"executionTime":0,"findingsCount":8,"level":"info","message":"Risk score calculated successfully","nodeEnv":"development","overallScore":58,"pid":63402,"riskLevel":"MEDIUM","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"failureCount":5,"level":"warn","message":"Circuit breaker opened due to failures","nodeEnv":"development","pid":63402,"resetTime":"2025-07-06T17:07:00.506Z","service":"external-api-client","timestamp":"2025-07-06 19:06:00"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:06:00","url":"https://api.llama.fi/chains"}
{"error":{},"level":"error","message":"Failed to fetch chain TVL from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"assessmentId":"assessment-1751821559922-1a77d107","categoryScores":{"governance":74,"liquidity":62,"reputation":36,"technical":95},"findingsSources":{"analyzers":7,"scoring":1},"level":"info","message":"Risk calculation with findings completed","nodeEnv":"development","overallScore":58,"pid":63402,"riskLevel":"MEDIUM","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00","totalFindings":8}
{"confidence":52,"executionTime":0,"findingsCount":1,"level":"info","message":"Risk score calculated successfully","nodeEnv":"development","overallScore":36,"pid":63402,"riskLevel":"MEDIUM","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"assessmentId":"assessment-1751821559922-1a77d107","confidence":52,"findingsCount":1,"level":"info","message":"Assessment completed successfully","nodeEnv":"development","overallScore":36,"pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","riskLevel":"MEDIUM","service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch protocol categories from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:00"}
{"assessmentId":"assessment-1751821559922-1a77d107","level":"info","message":"Fetching assessment details","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:06:18"}
{"level":"info","message":"SimpleGovernanceAnalyzer initialized","nodeEnv":"development","pid":72317,"service":"governance-analyzer","timestamp":"2025-07-06 19:48:35","useMockData":true}
{"level":"info","message":"RiskScoringEngine initialized","nodeEnv":"development","pid":72317,"service":"risk-assessment-api","thresholds":{"critical":80,"high":60,"medium":30},"timestamp":"2025-07-06 19:48:35","weights":{"governance":0.25,"liquidity":0.2,"reputation":0.15,"technical":0.4}}
{"baseUrl":"https://api.etherscan.io/api","hasApiKey":false,"level":"info","message":"EtherscanClient initialized","network":"mainnet","nodeEnv":"development","pid":72317,"service":"etherscan-client","timestamp":"2025-07-06 19:48:35"}
{"hasApiKey":false,"level":"info","message":"Ethereum client initialized","network":"mainnet","nodeEnv":"development","pid":72317,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:48:35"}
{"baseUrl":"https://api.bscscan.com/api","hasApiKey":false,"level":"info","message":"BSCScanClient initialized","network":"mainnet","nodeEnv":"development","pid":72317,"service":"bscscan-client","timestamp":"2025-07-06 19:48:35"}
{"hasApiKey":false,"level":"info","message":"BSC client initialized","network":"mainnet","nodeEnv":"development","pid":72317,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:48:35"}
{"baseUrl":"https://api.polygonscan.com/api","hasApiKey":false,"level":"info","message":"PolygonscanClient initialized","network":"mainnet","nodeEnv":"development","pid":72317,"service":"polygonscan-client","timestamp":"2025-07-06 19:48:35"}
{"hasApiKey":false,"level":"info","message":"Polygon client initialized","network":"mainnet","nodeEnv":"development","pid":72317,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:48:35"}
{"level":"info","message":"UnifiedBlockchainClient initialized","nodeEnv":"development","pid":72317,"service":"unified-blockchain-client","supportedChains":["ethereum","bsc","polygon"],"timestamp":"2025-07-06 19:48:35"}
{"baseUrl":"https://api.llama.fi","level":"info","message":"DeFiLlama client initialized","nodeEnv":"development","pid":72317,"rateLimit":{"burstLimit":10,"requestsPerMinute":300},"service":"risk-assessment-api","timeout":30000,"timestamp":"2025-07-06 19:48:35"}
{"baseUrl":"https://api.coingecko.com/api/v3","hasApiKey":false,"level":"info","message":"CoinGecko client initialized","nodeEnv":"development","pid":72317,"rateLimit":{"burstLimit":5,"requestsPerMinute":30},"service":"risk-assessment-api","timeout":30000,"timestamp":"2025-07-06 19:48:35"}
{"cacheDir":"./data/cache","coingecko":true,"defillama":true,"level":"info","message":"Unified DeFi data client initialized","nodeEnv":"development","pid":72317,"service":"risk-assessment-api","timestamp":"2025-07-06 19:48:35"}
{"config":{"logLevel":"debug","nodeEnv":"development","port":3000},"level":"info","message":"Application Starting","nodeEnv":"development","pid":72317,"service":"risk-assessment-api","timestamp":"2025-07-06 19:48:35","type":"startup"}
{"level":"info","limit":"50","message":"Fetching all protocols","nodeEnv":"development","offset":"0","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:48:56"}
{"filters":{},"level":"info","message":"Protocols fetched successfully","nodeEnv":"development","pid":63402,"returned":7,"service":"risk-assessment-api","timestamp":"2025-07-06 19:48:56","total":7}
{"level":"info","message":"Fetching protocol statistics","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:07"}
{"blockchains":2,"categories":3,"level":"info","message":"Protocol statistics compiled","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:07","totalProtocols":7}
{"level":"info","message":"Fetching protocol by ID","nodeEnv":"development","pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:16"}
{"level":"info","message":"Protocol found","name":"Final Test Protocol","nodeEnv":"development","pid":63402,"protocolId":"final-test-protocol-12345678-mcrxbqlw","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:16"}
{"body":{"blockchain":"ethereum","category":"LENDING","contractAddresses":["0x1234567890abcdef1234567890abcdef12345678"],"name":"Test Protocol API","tags":["defi","lending","test"],"tokenSymbol":"TPA","website":"https://testprotocol-api.example.com"},"level":"info","message":"Creating new protocol","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:25"}
{"body":{"blockchain":"ethereum","category":"LENDING","contractAddresses":["0x9876543210fedcba9876543210fedcba98765432"],"name":"Test Protocol API Unique","tags":["defi","lending","test"],"tokenSymbol":"TPU","website":"https://testprotocol-unique.example.com"},"level":"info","message":"Creating new protocol","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:35"}
{"level":"info","message":"Protocol created successfully","name":"Test Protocol API Unique","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:35"}
{"level":"info","limit":20,"message":"Listing assessments","nodeEnv":"development","offset":0,"pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:40"}
{"level":"info","message":"Creating new assessment","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57","userId":"::1"}
{"assessmentId":"assessment-1751824197843-db2393f6","level":"info","message":"Initiating new assessment","nodeEnv":"development","pid":63402,"request":{"analysisDepth":"COMPREHENSIVE","protocolId":"test-protocol-api-unique-98765432-mcryvsff"},"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"assessmentId":"assessment-1751824197843-db2393f6","level":"info","message":"Starting assessment processing","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"address":"0x9876543210fedcba9876543210fedcba98765432","blockchain":"ethereum","level":"info","message":"Fetching contract metadata","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:49:57"}
{"assessmentId":"assessment-1751824197843-db2393f6","level":"info","message":"Assessment initiated successfully","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"assessmentId":"assessment-1751824197843-db2393f6","level":"info","message":"Assessment created successfully","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"failureCount":5,"level":"warn","message":"Circuit breaker opened due to failures","nodeEnv":"development","pid":63402,"resetTime":"2025-07-06T17:50:57.850Z","service":"external-api-client","timestamp":"2025-07-06 19:49:57"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:49:57","url":"https://api.etherscan.io/api?module=contract&action=getcontractcreation&contractaddresses=0x9876543210fedcba9876543210fedcba98765432"}
{"contractAddress":"0x9876543210fedcba9876543210fedcba98765432","error":"fetch is not defined","level":"error","message":"Failed to get contract creation info","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 19:49:57"}
{"address":"0x9876543210fedcba9876543210fedcba98765432","error":"Circuit breaker is OPEN","level":"error","message":"Failed to get balance","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 19:49:57"}
{"contractAddress":"0x9876543210fedcba9876543210fedcba98765432","error":"Circuit breaker is OPEN","level":"error","message":"Failed to get contract source code","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 19:49:57"}
{"address":"0x9876543210fedcba9876543210fedcba98765432","blockchain":"ethereum","hasCreationData":false,"isVerified":false,"level":"info","message":"Contract metadata retrieved","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:49:57"}
{"address":"0x9876543210fedcba9876543210fedcba98765432","error":"Circuit breaker is OPEN","level":"error","message":"Failed to get transactions","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 19:49:57"}
{"address":"0x9876543210fedcba9876543210fedcba98765432","blockchain":"ethereum","error":"Circuit breaker is OPEN","level":"error","message":"Failed to get recent transactions","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 19:49:57"}
{"address":"0x9876543210fedcba9876543210fedcba98765432","assessmentId":"assessment-1751824197843-db2393f6","error":"Circuit breaker is OPEN","level":"warn","message":"Failed to collect blockchain data for contract","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"level":"info","message":"Circuit breaker moving to HALF_OPEN state","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:49:57"}
{"failureCount":6,"level":"warn","message":"Circuit breaker opened due to failures","nodeEnv":"development","pid":63402,"resetTime":"2025-07-06T17:50:57.853Z","service":"external-api-client","timestamp":"2025-07-06 19:49:57"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:49:57","url":"https://api.llama.fi/protocol/Test%20Protocol%20API%20Unique"}
{"error":{},"level":"error","message":"Failed to fetch protocol details from DeFiLlama","nodeEnv":"development","pid":63402,"protocolSlug":"Test Protocol API Unique","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"error":"Failed to fetch protocol Test Protocol API Unique: fetch is not defined","level":"warn","message":"Failed to fetch protocol from DeFiLlama","nodeEnv":"development","pid":63402,"protocolIdentifier":"Test Protocol API Unique","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch protocols from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"error":{},"level":"error","message":"Failed to search protocols in DeFiLlama","nodeEnv":"development","pid":63402,"query":"Test Protocol API Unique","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:49:57","url":"https://api.coingecko.com/api/v3/coins/Test%20Protocol%20API%20Unique?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false"}
{"coinId":"Test Protocol API Unique","error":{},"level":"error","message":"Failed to fetch coin details from CoinGecko","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"failureCount":5,"level":"warn","message":"Circuit breaker opened due to failures","nodeEnv":"development","pid":63402,"resetTime":"2025-07-06T17:50:57.972Z","service":"external-api-client","timestamp":"2025-07-06 19:49:57"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 19:49:57","url":"https://api.coingecko.com/api/v3/search?query=Test+Protocol+API+Unique"}
{"error":{},"level":"error","message":"Failed to search coins in CoinGecko","nodeEnv":"development","pid":63402,"query":"Test Protocol API Unique","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"level":"info","message":"No protocol data found in either DeFiLlama or CoinGecko","nodeEnv":"development","pid":63402,"protocolIdentifier":"Test Protocol API Unique","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:57"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch protocols from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"contractAddress":"0x9876543210fedcba9876543210fedcba98765432","error":{},"level":"error","message":"Failed to search protocol by address in DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"contractAddress":"0x9876543210fedcba9876543210fedcba98765432","error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch coin by contract address from CoinGecko","nodeEnv":"development","pid":63402,"platform":"ethereum","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"chain":"ethereum","contractAddress":"0x9876543210fedcba9876543210fedcba98765432","level":"info","message":"No protocol found for contract address","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch current TVL from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"error":"Failed to fetch current TVL: Circuit breaker is OPEN","level":"error","message":"Failed to fetch market overview","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"assessmentId":"assessment-1751824197843-db2393f6","error":"Failed to fetch market overview: Failed to fetch current TVL: Circuit breaker is OPEN","level":"warn","message":"Failed to get market overview","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"analyzers":["technical","liquidity","governance","reputation"],"assessmentId":"assessment-1751824197843-db2393f6","level":"info","message":"Starting parallel risk analysis","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"contractCount":1,"level":"info","message":"Starting technical analysis","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"blockchain":"ethereum","contractAddress":"0x9876543210fedcba9876543210fedcba98765432","contractName":"Test Protocol API Unique-contract-98765432","level":"info","message":"Starting smart contract analysis","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"blockchain":"ethereum","level":"info","message":"Starting liquidity analysis","nodeEnv":"development","pid":63402,"protocol":"Test Protocol API Unique","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"blockchain":"ethereum","level":"info","message":"Starting governance analysis","nodeEnv":"development","pid":63402,"protocolName":"Test Protocol API Unique","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"executionTime":0,"findingsCount":2,"governanceScore":72,"level":"info","message":"Governance analysis completed","nodeEnv":"development","pid":63402,"protocolName":"Test Protocol API Unique","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"blockchain":"ethereum","level":"info","message":"Starting reputation analysis","nodeEnv":"development","pid":63402,"protocol":"Test Protocol API Unique","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"contractAddress":"0x9876543210fedcba9876543210fedcba98765432","error":"No source code provided for contract 0x9876543210fedcba9876543210fedcba98765432","executionTime":0,"level":"error","message":"Smart contract analysis failed","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"analysisTime":1,"level":"info","liquidityScore":62,"message":"Liquidity analysis completed","nodeEnv":"development","pid":63402,"protocol":"Test Protocol API Unique","riskLevel":"medium","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"analysisTime":1,"level":"info","message":"Reputation analysis completed","nodeEnv":"development","pid":63402,"protocol":"Test Protocol API Unique","reputationScore":45,"riskLevel":"high","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"analyzedContracts":1,"findingsCount":1,"level":"info","message":"Technical analysis completed","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","score":95,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58","totalVulnerabilities":0}
{"assessmentId":"assessment-1751824197843-db2393f6","executionTime":174,"findingsBreakdown":{"governance":2,"liquidity":0,"reputation":2,"technical":1},"level":"info","message":"Parallel risk analysis completed","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","scores":{"governance":72,"liquidity":62,"reputation":45,"technical":95},"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58","totalFindings":5}
{"confidence":65,"executionTime":0,"findingsCount":6,"level":"info","message":"Risk score calculated successfully","nodeEnv":"development","overallScore":49,"pid":63402,"riskLevel":"MEDIUM","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch chain TVL from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"assessmentId":"assessment-1751824197843-db2393f6","categoryScores":{"governance":72,"liquidity":62,"reputation":45,"technical":95},"findingsSources":{"analyzers":5,"scoring":1},"level":"info","message":"Risk calculation with findings completed","nodeEnv":"development","overallScore":49,"pid":63402,"riskLevel":"MEDIUM","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58","totalFindings":6}
{"confidence":52,"executionTime":0,"findingsCount":1,"level":"info","message":"Risk score calculated successfully","nodeEnv":"development","overallScore":38,"pid":63402,"riskLevel":"MEDIUM","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"assessmentId":"assessment-1751824197843-db2393f6","confidence":52,"findingsCount":1,"level":"info","message":"Assessment completed successfully","nodeEnv":"development","overallScore":38,"pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","riskLevel":"MEDIUM","service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch protocol categories from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:49:58"}
{"assessmentId":"assessment-1751824197843-db2393f6","level":"info","message":"Fetching assessment details","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:50:38"}
{"assessmentId":"assessment-1751824197843-db2393f6","level":"info","message":"Fetching assessment status","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:50:54"}
{"level":"info","limit":20,"message":"Listing assessments","nodeEnv":"development","offset":0,"pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:51:14"}
{"level":"info","limit":2,"message":"Listing assessments","nodeEnv":"development","offset":0,"pid":63402,"service":"risk-assessment-api","status":"COMPLETED","timestamp":"2025-07-06 19:51:19"}
{"body":{"tags":["defi","lending","test","updated"],"website":"https://updated-testprotocol.example.com"},"level":"info","message":"Updating protocol","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:51:27"}
{"level":"info","message":"Protocol updated successfully","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:51:27","updatedFields":["website","tags"]}
{"blockchain":"ethereum","category":"LENDING","level":"info","limit":"50","message":"Fetching all protocols","nodeEnv":"development","offset":"0","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:51:35"}
{"filters":{"blockchain":"ethereum","category":"LENDING"},"level":"info","message":"Protocols fetched successfully","nodeEnv":"development","pid":63402,"returned":1,"service":"risk-assessment-api","timestamp":"2025-07-06 19:51:35","total":1}
{"level":"info","message":"Deleting protocol","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:51:47"}
{"level":"info","message":"Protocol deleted successfully","name":"Test Protocol API Unique","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:51:47"}
{"level":"info","message":"Fetching protocol by ID","nodeEnv":"development","pid":63402,"protocolId":"test-protocol-api-unique-98765432-mcryvsff","service":"risk-assessment-api","timestamp":"2025-07-06 19:51:52"}
{"assessmentId":"assessment-1751821559922-1a77d107","level":"info","message":"Cancelling assessment","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 19:52:22"}
{"level":"info","limit":"50","message":"Fetching all protocols","nodeEnv":"development","offset":"0","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:08:47"}
{"filters":{},"level":"info","message":"Protocols fetched successfully","nodeEnv":"development","pid":63402,"returned":7,"service":"risk-assessment-api","timestamp":"2025-07-06 20:08:47","total":7}
{"level":"info","limit":"50","message":"Fetching all protocols","nodeEnv":"development","offset":"0","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:20:47"}
{"filters":{},"level":"info","message":"Protocols fetched successfully","nodeEnv":"development","pid":63402,"returned":20,"service":"risk-assessment-api","timestamp":"2025-07-06 20:20:47","total":20}
{"level":"info","limit":"50","message":"Fetching all protocols","nodeEnv":"development","offset":"0","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:20:54"}
{"filters":{},"level":"info","message":"Protocols fetched successfully","nodeEnv":"development","pid":63402,"returned":20,"service":"risk-assessment-api","timestamp":"2025-07-06 20:20:54","total":20}
{"level":"info","limit":"50","message":"Fetching all protocols","nodeEnv":"development","offset":"0","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:02"}
{"filters":{},"level":"info","message":"Protocols fetched successfully","nodeEnv":"development","pid":63402,"returned":20,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:02","total":20}
{"level":"info","message":"Creating new assessment","nodeEnv":"development","pid":63402,"protocolId":"protocol-1","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09","userId":"::1"}
{"assessmentId":"assessment-1751826069234-beb21eba","level":"info","message":"Initiating new assessment","nodeEnv":"development","pid":63402,"request":{"protocolId":"protocol-1"},"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"assessmentId":"assessment-1751826069234-beb21eba","level":"info","message":"Starting assessment processing","nodeEnv":"development","pid":63402,"protocolId":"protocol-1","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"address":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","blockchain":"ethereum","level":"info","message":"Fetching contract metadata","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 20:21:09"}
{"assessmentId":"assessment-1751826069234-beb21eba","level":"info","message":"Assessment initiated successfully","nodeEnv":"development","pid":63402,"protocolId":"protocol-1","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"assessmentId":"assessment-1751826069234-beb21eba","level":"info","message":"Assessment created successfully","nodeEnv":"development","pid":63402,"protocolId":"protocol-1","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"level":"info","message":"Circuit breaker moving to HALF_OPEN state","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 20:21:09"}
{"failureCount":6,"level":"warn","message":"Circuit breaker opened due to failures","nodeEnv":"development","pid":63402,"resetTime":"2025-07-06T18:22:09.245Z","service":"external-api-client","timestamp":"2025-07-06 20:21:09"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 20:21:09","url":"https://api.etherscan.io/api?module=contract&action=getsourcecode&address=0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f"}
{"contractAddress":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","error":"fetch is not defined","level":"error","message":"Failed to get contract source code","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 20:21:09"}
{"contractAddress":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","error":"Circuit breaker is OPEN","level":"error","message":"Failed to get contract creation info","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 20:21:09"}
{"address":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","error":"Circuit breaker is OPEN","level":"error","message":"Failed to get balance","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 20:21:09"}
{"address":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","blockchain":"ethereum","hasCreationData":false,"isVerified":false,"level":"info","message":"Contract metadata retrieved","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 20:21:09"}
{"address":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","error":"Circuit breaker is OPEN","level":"error","message":"Failed to get transactions","nodeEnv":"development","pid":63402,"service":"etherscan-client","timestamp":"2025-07-06 20:21:09"}
{"address":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","blockchain":"ethereum","error":"Circuit breaker is OPEN","level":"error","message":"Failed to get recent transactions","nodeEnv":"development","pid":63402,"service":"unified-blockchain-client","timestamp":"2025-07-06 20:21:09"}
{"address":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","assessmentId":"assessment-1751826069234-beb21eba","error":"Circuit breaker is OPEN","level":"warn","message":"Failed to collect blockchain data for contract","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"level":"info","message":"Circuit breaker moving to HALF_OPEN state","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 20:21:09"}
{"failureCount":7,"level":"warn","message":"Circuit breaker opened due to failures","nodeEnv":"development","pid":63402,"resetTime":"2025-07-06T18:22:09.251Z","service":"external-api-client","timestamp":"2025-07-06 20:21:09"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 20:21:09","url":"https://api.llama.fi/protocol/Uniswap"}
{"error":{},"level":"error","message":"Failed to fetch protocol details from DeFiLlama","nodeEnv":"development","pid":63402,"protocolSlug":"Uniswap","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"error":"Failed to fetch protocol Uniswap: fetch is not defined","level":"warn","message":"Failed to fetch protocol from DeFiLlama","nodeEnv":"development","pid":63402,"protocolIdentifier":"Uniswap","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch protocols from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"error":{},"level":"error","message":"Failed to search protocols in DeFiLlama","nodeEnv":"development","pid":63402,"query":"Uniswap","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"level":"info","message":"Circuit breaker moving to HALF_OPEN state","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 20:21:09"}
{"failureCount":6,"level":"warn","message":"Circuit breaker opened due to failures","nodeEnv":"development","pid":63402,"resetTime":"2025-07-06T18:22:09.392Z","service":"external-api-client","timestamp":"2025-07-06 20:21:09"}
{"error":"fetch is not defined","level":"error","message":"Non-retryable error, stopping retries","nodeEnv":"development","pid":63402,"service":"external-api-client","timestamp":"2025-07-06 20:21:09","url":"https://api.coingecko.com/api/v3/coins/Uniswap?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false"}
{"coinId":"Uniswap","error":{},"level":"error","message":"Failed to fetch coin details from CoinGecko","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to search coins in CoinGecko","nodeEnv":"development","pid":63402,"query":"Uniswap","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"level":"info","message":"No protocol data found in either DeFiLlama or CoinGecko","nodeEnv":"development","pid":63402,"protocolIdentifier":"Uniswap","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch protocols from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"contractAddress":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","error":{},"level":"error","message":"Failed to search protocol by address in DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"contractAddress":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch coin by contract address from CoinGecko","nodeEnv":"development","pid":63402,"platform":"ethereum","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"chain":"ethereum","contractAddress":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","level":"info","message":"No protocol found for contract address","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch current TVL from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"error":"Failed to fetch current TVL: Circuit breaker is OPEN","level":"error","message":"Failed to fetch market overview","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"assessmentId":"assessment-1751826069234-beb21eba","error":"Failed to fetch market overview: Failed to fetch current TVL: Circuit breaker is OPEN","level":"warn","message":"Failed to get market overview","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"analyzers":["technical","liquidity","governance","reputation"],"assessmentId":"assessment-1751826069234-beb21eba","level":"info","message":"Starting parallel risk analysis","nodeEnv":"development","pid":63402,"protocolId":"protocol-1","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"contractCount":1,"level":"info","message":"Starting technical analysis","nodeEnv":"development","pid":63402,"protocolId":"protocol-1","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"blockchain":"ethereum","contractAddress":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","contractName":"Uniswap-contract-9cc5aA6f","level":"info","message":"Starting smart contract analysis","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"blockchain":"ethereum","level":"info","message":"Starting liquidity analysis","nodeEnv":"development","pid":63402,"protocol":"Uniswap","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"blockchain":"ethereum","level":"info","message":"Starting governance analysis","nodeEnv":"development","pid":63402,"protocolName":"Uniswap","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"executionTime":0,"findingsCount":2,"governanceScore":65,"level":"info","message":"Governance analysis completed","nodeEnv":"development","pid":63402,"protocolName":"Uniswap","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"blockchain":"ethereum","level":"info","message":"Starting reputation analysis","nodeEnv":"development","pid":63402,"protocol":"Uniswap","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"contractAddress":"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","error":"No source code provided for contract 0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","executionTime":2,"level":"error","message":"Smart contract analysis failed","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"analysisTime":3,"level":"info","liquidityScore":75,"message":"Liquidity analysis completed","nodeEnv":"development","pid":63402,"protocol":"Uniswap","riskLevel":"low","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"analysisTime":2,"level":"info","message":"Reputation analysis completed","nodeEnv":"development","pid":63402,"protocol":"Uniswap","reputationScore":73,"riskLevel":"medium","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"analyzedContracts":1,"findingsCount":1,"level":"info","message":"Technical analysis completed","nodeEnv":"development","pid":63402,"protocolId":"protocol-1","score":95,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09","totalVulnerabilities":0}
{"assessmentId":"assessment-1751826069234-beb21eba","executionTime":219,"findingsBreakdown":{"governance":2,"liquidity":1,"reputation":3,"technical":1},"level":"info","message":"Parallel risk analysis completed","nodeEnv":"development","pid":63402,"protocolId":"protocol-1","scores":{"governance":65,"liquidity":75,"reputation":73,"technical":95},"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09","totalFindings":7}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch chain TVL from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"confidence":67,"executionTime":0,"findingsCount":7,"level":"info","message":"Risk score calculated successfully","nodeEnv":"development","overallScore":31,"pid":63402,"riskLevel":"MEDIUM","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"assessmentId":"assessment-1751826069234-beb21eba","categoryScores":{"governance":65,"liquidity":75,"reputation":73,"technical":95},"findingsSources":{"analyzers":7,"scoring":0},"level":"info","message":"Risk calculation with findings completed","nodeEnv":"development","overallScore":31,"pid":63402,"riskLevel":"MEDIUM","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09","totalFindings":7}
{"confidence":52,"executionTime":0,"findingsCount":1,"level":"info","message":"Risk score calculated successfully","nodeEnv":"development","overallScore":28,"pid":63402,"riskLevel":"LOW","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"error":{"code":"CIRCUIT_BREAKER_OPEN","retryable":false},"level":"error","message":"Failed to fetch protocol categories from DeFiLlama","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"assessmentId":"assessment-1751826069234-beb21eba","confidence":52,"findingsCount":1,"level":"info","message":"Assessment completed successfully","nodeEnv":"development","overallScore":28,"pid":63402,"protocolId":"protocol-1","riskLevel":"LOW","service":"risk-assessment-api","timestamp":"2025-07-06 20:21:09"}
{"assessmentId":"assessment-1751826069234-beb21eba","level":"info","message":"Fetching assessment details","nodeEnv":"development","pid":63402,"service":"risk-assessment-api","timestamp":"2025-07-06 20:21:24"}
